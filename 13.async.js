"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[201],{66428:function(L,f,_){_.r(f);var M=_(93450),p=_.n(M),C=_(66933),u=_.n(C),D=_(96945),s=_(84391),o=_(24616),v=_(73171),m=_(8212),j=_(44545),E=_(10886),g=_(80016),P=_(18036),l=_(48086),h=_(94412),T=_(19650),c=_(71577),U=_(71230),O=_(15746),n=_(24565),r=_(62462),a=_(62435),e=_(86074),B=function(){var W=(0,P.useParams)(),y=W.id,K=(0,a.useState)(),A=u()(K,2),d=A[0],R=A[1];(0,a.useEffect)(function(){S()},[]);var S=function(){(0,D.Ck)(y).then(function(t){R(t.data)})},b={name:"file",action:"".concat(localStorage.getItem("baseURL"),"gallery/upload/").concat(y),headers:{authorization:"Bearer ".concat(localStorage.getItem("def_token"))},onChange:function(t){t.file.status!=="uploading"&&console.log(t.file,t.fileList),t.file.status==="done"?(S(),l.ZP.success("".concat(t.file.name," file uploaded successfully"))):t.file.status==="error"&&l.ZP.error("".concat(t.file.name," file upload failed."))}},Z=function(t){(0,D.JJ)(t).then(function(I){if(I.succeeded){var x=d==null?void 0:d.filter(function(G){return G.id!==t});R(x),l.ZP.success("succeeded")}else l.ZP.error(I.message)})};return(0,e.jsxs)(E._z,{title:"Photo of gallery",children:[(0,e.jsx)("div",{className:"mb-4",children:(0,e.jsx)(g.Z,{children:(0,e.jsx)(h.Z,p()(p()({},b),{},{children:(0,e.jsxs)(T.Z,{children:[(0,e.jsx)(c.Z,{icon:(0,e.jsx)(s.Z,{}),children:"Upload"}),"or",(0,e.jsx)(c.Z,{icon:(0,e.jsx)(o.Z,{}),children:"Choose from gallery"})]})}))})}),(0,e.jsx)(U.Z,{gutter:16,children:d==null?void 0:d.map(function(i){return(0,e.jsx)(O.Z,{span:6,children:(0,e.jsx)(g.Z,{actions:[(0,e.jsx)(n.Z,{title:"Are you sure to delete?",onConfirm:function(){return Z(i.id)},okText:"Yes",cancelText:"No",children:(0,e.jsx)(v.Z,{},"delete")}),(0,e.jsx)(m.Z,{},"edit"),(0,e.jsx)(j.Z,{},"ellipsis")],children:(0,e.jsx)(r.Z,{src:i.url,height:150,width:"100%"})})},i.id)})})]})};f.default=B},96945:function(L,f,_){_.d(f,{Ck:function(){return l},JJ:function(){return T},Qz:function(){return U},jF:function(){return v},mW:function(){return j}});var M=_(93450),p=_.n(M),C=_(29883),u=_.n(C),D=_(94043),s=_.n(D),o=_(18036);function v(n){return m.apply(this,arguments)}function m(){return m=u()(s().mark(function n(r){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/list",{method:"GET",params:p()({},r)}));case 1:case"end":return e.stop()}},n)})),m.apply(this,arguments)}function j(n){return E.apply(this,arguments)}function E(){return E=u()(s().mark(function n(r){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/add",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),E.apply(this,arguments)}function g(n){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime.mark(function n(r){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function l(n){return h.apply(this,arguments)}function h(){return h=u()(s().mark(function n(r){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/list-photo/".concat(r)));case 1:case"end":return e.stop()}},n)})),h.apply(this,arguments)}function T(n){return c.apply(this,arguments)}function c(){return c=u()(s().mark(function n(r){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/delete-photo/".concat(r),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),c.apply(this,arguments)}function U(n){return O.apply(this,arguments)}function O(){return O=u()(s().mark(function n(r){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/delete/".concat(r),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),O.apply(this,arguments)}}}]);
