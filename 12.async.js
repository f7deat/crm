"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[922],{66428:function(L,f,_){_.r(f);var M=_(93450),p=_.n(M),C=_(66933),u=_.n(C),D=_(96945),r=_(8212),o=_(84391),v=_(63258),m=_(73171),j=_(44545),E=_(10886),g=_(80016),P=_(18036),c=_(48086),l=_(71577),y=_(19650),h=_(94412),T=_(71230),O=_(15746),n=_(24565),t=_(62462),a=_(62435),e=_(86074),B=function(){var W=(0,P.useParams)(),U=W.id,K=(0,a.useState)(),A=u()(K,2),d=A[0],R=A[1];(0,a.useEffect)(function(){S()},[]);var S=function(){(0,D.Ck)(U).then(function(s){R(s.data)})},b={name:"file",action:"".concat(localStorage.getItem("baseURL"),"gallery/upload/").concat(U),headers:{authorization:"Bearer ".concat(localStorage.getItem("def_token"))},onChange:function(s){s.file.status!=="uploading"&&console.log(s.file,s.fileList),s.file.status==="done"?(S(),c.ZP.success("".concat(s.file.name," file uploaded successfully"))):s.file.status==="error"&&c.ZP.error("".concat(s.file.name," file upload failed."))}},Z=function(s){(0,D.JJ)(s).then(function(I){if(I.succeeded){var x=d==null?void 0:d.filter(function(G){return G.id!==s});R(x),c.ZP.success("succeeded")}else c.ZP.error(I.message)})};return(0,e.jsxs)(E._z,{title:"Photo of gallery",extra:(0,e.jsx)(l.Z,{icon:(0,e.jsx)(r.Z,{}),children:"Edit gallery"}),children:[(0,e.jsx)("div",{className:"mb-4",children:(0,e.jsx)(g.Z,{children:(0,e.jsxs)(y.Z,{children:[(0,e.jsx)(h.Z,p()(p()({},b),{},{children:(0,e.jsx)(l.Z,{icon:(0,e.jsx)(o.Z,{}),children:"Upload"})})),"or",(0,e.jsx)(l.Z,{icon:(0,e.jsx)(v.Z,{}),children:"Choose from gallery"})]})})}),(0,e.jsx)(T.Z,{gutter:16,children:d==null?void 0:d.map(function(i){return(0,e.jsx)(O.Z,{span:6,children:(0,e.jsx)(g.Z,{actions:[(0,e.jsx)(n.Z,{title:"Are you sure to delete?",onConfirm:function(){return Z(i.id)},okText:"Yes",cancelText:"No",children:(0,e.jsx)(m.Z,{},"delete")}),(0,e.jsx)(r.Z,{},"edit"),(0,e.jsx)(j.Z,{},"ellipsis")],children:(0,e.jsx)(t.Z,{src:i.url,height:150,width:"100%"})})},i.id)})})]})};f.default=B},96945:function(L,f,_){_.d(f,{Ck:function(){return c},JJ:function(){return y},Qz:function(){return T},jF:function(){return v},mW:function(){return j}});var M=_(93450),p=_.n(M),C=_(29883),u=_.n(C),D=_(94043),r=_.n(D),o=_(18036);function v(n){return m.apply(this,arguments)}function m(){return m=u()(r().mark(function n(t){return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/list",{method:"GET",params:p()({},t)}));case 1:case"end":return e.stop()}},n)})),m.apply(this,arguments)}function j(n){return E.apply(this,arguments)}function E(){return E=u()(r().mark(function n(t){return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/add",{method:"POST",data:t}));case 1:case"end":return e.stop()}},n)})),E.apply(this,arguments)}function g(n){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime.mark(function n(t){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:t}));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function c(n){return l.apply(this,arguments)}function l(){return l=u()(r().mark(function n(t){return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/list-photo/".concat(t)));case 1:case"end":return e.stop()}},n)})),l.apply(this,arguments)}function y(n){return h.apply(this,arguments)}function h(){return h=u()(r().mark(function n(t){return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/delete-photo/".concat(t),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),h.apply(this,arguments)}function T(n){return O.apply(this,arguments)}function O(){return O=u()(r().mark(function n(t){return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("gallery/delete/".concat(t),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),O.apply(this,arguments)}}}]);
