"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[922],{66428:function(W,O,n){n.r(O);var C=n(93450),D=n.n(C),v=n(66933),a=n.n(v),M=n(96945),t=n(8212),u=n(84391),y=n(63258),m=n(73171),g=n(44545),E=n(10886),j=n(80016),p=n(18036),c=n(48086),o=n(71577),T=n(19650),P=n(94412),U=n(71230),h=n(15746),A=n(24565),f=n(62462),_=n(62435),r=n(86074),l=function(){var K=(0,p.useParams)(),R=K.id,b=(0,_.useState)(),S=a()(b,2),d=S[0],I=S[1];(0,_.useEffect)(function(){L()},[]);var L=function(){(0,M.Ck)(R).then(function(s){I(s.data)})},Z={name:"file",action:"".concat(localStorage.getItem("baseURL"),"gallery/upload/").concat(R),headers:{authorization:"Bearer ".concat(localStorage.getItem("def_token"))},onChange:function(s){s.file.status!=="uploading"&&console.log(s.file,s.fileList),s.file.status==="done"?(L(),c.ZP.success("".concat(s.file.name," file uploaded successfully"))):s.file.status==="error"&&c.ZP.error("".concat(s.file.name," file upload failed."))}},x=function(s){(0,M.JJ)(s).then(function(B){if(B.succeeded){var G=d==null?void 0:d.filter(function($){return $.id!==s});I(G),c.ZP.success("succeeded")}else c.ZP.error(B.message)})};return(0,r.jsxs)(E._z,{title:"Photo of gallery",extra:(0,r.jsx)(o.Z,{icon:(0,r.jsx)(t.Z,{}),children:"Edit gallery"}),children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(j.Z,{children:(0,r.jsxs)(T.Z,{children:[(0,r.jsx)(P.Z,D()(D()({},Z),{},{children:(0,r.jsx)(o.Z,{icon:(0,r.jsx)(u.Z,{}),children:"Upload"})})),"or",(0,r.jsx)(o.Z,{icon:(0,r.jsx)(y.Z,{}),children:"Choose from gallery"})]})})}),(0,r.jsx)(U.Z,{gutter:16,children:d==null?void 0:d.map(function(i){return(0,r.jsx)(h.Z,{span:6,children:(0,r.jsx)(j.Z,{actions:[(0,r.jsx)(A.Z,{title:"Are you sure to delete?",onConfirm:function(){return x(i.id)},okText:"Yes",cancelText:"No",children:(0,r.jsx)(m.Z,{},"delete")}),(0,r.jsx)(t.Z,{},"edit"),(0,r.jsx)(g.Z,{},"ellipsis")],children:(0,r.jsx)(f.Z,{src:i.url,height:150,width:"100%",className:"object-fit-cover"})})},i.id)})})]})};O.default=l},96945:function(W,O,n){n.d(O,{Ck:function(){return c},JJ:function(){return T},Qz:function(){return U},Yp:function(){return A},jF:function(){return y},mW:function(){return g}});var C=n(93450),D=n.n(C),v=n(29883),a=n.n(v),M=n(94043),t=n.n(M),u=n(18036);function y(_){return m.apply(this,arguments)}function m(){return m=a()(t().mark(function _(r){return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/list",{method:"GET",params:D()({},r)}));case 1:case"end":return e.stop()}},_)})),m.apply(this,arguments)}function g(_){return E.apply(this,arguments)}function E(){return E=a()(t().mark(function _(r){return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/add",{method:"POST",data:r}));case 1:case"end":return e.stop()}},_)})),E.apply(this,arguments)}function j(_){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime.mark(function _(r){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:r}));case 1:case"end":return e.stop()}},_)})),p.apply(this,arguments)}function c(_){return o.apply(this,arguments)}function o(){return o=a()(t().mark(function _(r){return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/list-photo/".concat(r)));case 1:case"end":return e.stop()}},_)})),o.apply(this,arguments)}function T(_){return P.apply(this,arguments)}function P(){return P=a()(t().mark(function _(r){return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/delete-photo/".concat(r),{method:"POST"}));case 1:case"end":return e.stop()}},_)})),P.apply(this,arguments)}function U(_){return h.apply(this,arguments)}function h(){return h=a()(t().mark(function _(r){return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/delete/".concat(r),{method:"POST"}));case 1:case"end":return e.stop()}},_)})),h.apply(this,arguments)}function A(_){return f.apply(this,arguments)}function f(){return f=a()(t().mark(function _(r){return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/".concat(r)));case 1:case"end":return e.stop()}},_)})),f.apply(this,arguments)}}}]);
