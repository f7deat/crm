"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5],{66428:function(W,p,n){n.r(p);var M=n(42122),_=n.n(M),C=n(27424),v=n.n(C),D=n(96945),s=n(86548),u=n(88484),y=n(32319),m=n(48689),g=n(89705),E=n(10851),T=n(33097),h=n(9927),c=n(12461),o=n(71577),U=n(26713),P=n(77916),j=n(71230),f=n(15746),R=n(65360),O=n(69518),t=n(62435),r=n(86074),l=function(){var K=(0,h.useParams)(),A=K.id,Z=(0,t.useState)(),S=v()(Z,2),d=S[0],I=S[1];(0,t.useEffect)(function(){L()},[]);var L=function(){(0,D.Ck)(A).then(function(a){I(a.data)})},x={name:"file",action:"".concat(localStorage.getItem("baseURL"),"gallery/upload/").concat(A),headers:{authorization:"Bearer ".concat(localStorage.getItem("def_token"))},onChange:function(a){a.file.status!=="uploading"&&console.log(a.file,a.fileList),a.file.status==="done"?(L(),c.ZP.success("".concat(a.file.name," file uploaded successfully"))):a.file.status==="error"&&c.ZP.error("".concat(a.file.name," file upload failed."))}},G=function(a){(0,D.JJ)(a).then(function(B){if(B.succeeded){var b=d==null?void 0:d.filter(function($){return $.id!==a});I(b),c.ZP.success("succeeded")}else c.ZP.error(B.message)})};return(0,r.jsxs)(E.ZP,{title:"Photo of gallery",extra:(0,r.jsx)(o.Z,{icon:(0,r.jsx)(s.Z,{}),children:"Edit gallery"}),children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(T.Z,{children:(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(P.Z,_()(_()({},x),{},{children:(0,r.jsx)(o.Z,{icon:(0,r.jsx)(u.Z,{}),children:"Upload"})})),"or",(0,r.jsx)(o.Z,{icon:(0,r.jsx)(y.Z,{}),children:"Choose from gallery"})]})})}),(0,r.jsx)(j.Z,{gutter:16,children:d==null?void 0:d.map(function(i){return(0,r.jsx)(f.Z,{span:6,children:(0,r.jsx)(T.Z,{actions:[(0,r.jsx)(R.Z,{title:"Are you sure to delete?",onConfirm:function(){return G(i.id)},okText:"Yes",cancelText:"No",children:(0,r.jsx)(m.Z,{},"delete")}),(0,r.jsx)(s.Z,{},"edit"),(0,r.jsx)(g.Z,{},"ellipsis")],children:(0,r.jsx)(O.Z,{src:i.url,height:150,width:"100%",className:"object-fit-cover"})})},i.id)})})]})};p.default=l},96945:function(W,p,n){n.d(p,{Ck:function(){return c},JJ:function(){return U},Qz:function(){return j},Yp:function(){return R},jF:function(){return y},mW:function(){return g}});var M=n(17061),_=n.n(M),C=n(42122),v=n.n(C),D=n(17156),s=n.n(D),u=n(9927);function y(t){return m.apply(this,arguments)}function m(){return m=s()(_()().mark(function t(r){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/list",{method:"GET",params:v()({},r)}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function g(t){return E.apply(this,arguments)}function E(){return E=s()(_()().mark(function t(r){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/add",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function T(t){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function t(r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function c(t){return o.apply(this,arguments)}function o(){return o=s()(_()().mark(function t(r){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/list-photo/".concat(r)));case 1:case"end":return e.stop()}},t)})),o.apply(this,arguments)}function U(t){return P.apply(this,arguments)}function P(){return P=s()(_()().mark(function t(r){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/delete-photo/".concat(r),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function j(t){return f.apply(this,arguments)}function f(){return f=s()(_()().mark(function t(r){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/delete/".concat(r),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function R(t){return O.apply(this,arguments)}function O(){return O=s()(_()().mark(function t(r){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("gallery/".concat(r)));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}}}]);
