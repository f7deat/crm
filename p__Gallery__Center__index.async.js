"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5],{66428:function(K,D,n){n.r(D);var M=n(97857),_=n.n(M),v=n(5574),y=n.n(v),O=n(96945),s=n(86548),l=n(88484),g=n(32319),m=n(48689),j=n(89705),E=n(10851),C=n(33097),h=n(80854),i=n(12461),o=n(71577),T=n(26713),P=n(77916),R=n(71230),f=n(15746),A=n(65360),p=n(69518),r=n(62435),t=n(86074),u=function(){var b=(0,h.useParams)(),I=b.id,Z=(0,r.useState)(),L=y()(Z,2),d=L[0],U=L[1];(0,r.useEffect)(function(){B()},[]);var B=function(){(0,O.Ck)(I).then(function(a){U(a.data)})},x={name:"file",action:"".concat(localStorage.getItem("baseURL"),"gallery/upload/").concat(I),headers:{authorization:"Bearer ".concat(localStorage.getItem("def_token"))},onChange:function(a){a.file.status!=="uploading"&&console.log(a.file,a.fileList),a.file.status==="done"?(B(),i.ZP.success("".concat(a.file.name," file uploaded successfully"))):a.file.status==="error"&&i.ZP.error("".concat(a.file.name," file upload failed."))}},G=function(a){(0,O.JJ)(a).then(function(W){if(W.succeeded){var S=d==null?void 0:d.filter(function($){return $.id!==a});U(S),i.ZP.success("succeeded")}else i.ZP.error(W.message)})};return(0,t.jsxs)(E.ZP,{title:"Photo of gallery",extra:(0,t.jsx)(o.Z,{icon:(0,t.jsx)(s.Z,{}),children:"Edit gallery"}),children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(C.Z,{children:(0,t.jsxs)(T.Z,{children:[(0,t.jsx)(P.Z,_()(_()({},x),{},{children:(0,t.jsx)(o.Z,{icon:(0,t.jsx)(l.Z,{}),children:"Upload"})})),"or",(0,t.jsx)(o.Z,{icon:(0,t.jsx)(g.Z,{}),children:"Choose from gallery"})]})})}),(0,t.jsx)(R.Z,{gutter:16,children:d==null?void 0:d.map(function(c){return(0,t.jsx)(f.Z,{span:6,children:(0,t.jsx)(C.Z,{actions:[(0,t.jsx)(A.Z,{title:"Are you sure to delete?",onConfirm:function(){return G(c.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(m.Z,{},"delete")}),(0,t.jsx)(s.Z,{},"edit"),(0,t.jsx)(j.Z,{},"ellipsis")],children:(0,t.jsx)(p.Z,{src:c.url,height:150,width:"100%",className:"object-fit-cover"})})},c.id)})})]})};D.default=u},96945:function(K,D,n){n.d(D,{Ck:function(){return i},JJ:function(){return T},Qz:function(){return R},Yp:function(){return A},jF:function(){return g},mW:function(){return j}});var M=n(15009),_=n.n(M),v=n(97857),y=n.n(v),O=n(99289),s=n.n(O),l=n(80854);function g(r){return m.apply(this,arguments)}function m(){return m=s()(_()().mark(function r(t){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/list",{method:"GET",params:y()({},t)}));case 1:case"end":return e.stop()}},r)})),m.apply(this,arguments)}function j(r){return E.apply(this,arguments)}function E(){return E=s()(_()().mark(function r(t){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/add",{method:"POST",data:t}));case 1:case"end":return e.stop()}},r)})),E.apply(this,arguments)}function C(r){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function r(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:t}));case 1:case"end":return e.stop()}},r)})),h.apply(this,arguments)}function i(r){return o.apply(this,arguments)}function o(){return o=s()(_()().mark(function r(t){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/list-photo/".concat(t)));case 1:case"end":return e.stop()}},r)})),o.apply(this,arguments)}function T(r){return P.apply(this,arguments)}function P(){return P=s()(_()().mark(function r(t){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/delete-photo/".concat(t),{method:"POST"}));case 1:case"end":return e.stop()}},r)})),P.apply(this,arguments)}function R(r){return f.apply(this,arguments)}function f(){return f=s()(_()().mark(function r(t){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/delete/".concat(t),{method:"POST"}));case 1:case"end":return e.stop()}},r)})),f.apply(this,arguments)}function A(r){return p.apply(this,arguments)}function p(){return p=s()(_()().mark(function r(t){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/".concat(t)));case 1:case"end":return e.stop()}},r)})),p.apply(this,arguments)}}}]);
