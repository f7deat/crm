"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5],{66428:function(K,D,r){r.r(D);var M=r(97857),_=r.n(M),v=r(5574),y=r.n(v),O=r(96945),a=r(86548),l=r(88484),g=r(32319),m=r(48689),j=r(89705),E=r(10851),C=r(33097),p=r(80854),i=r(12461),o=r(71577),T=r(26713),h=r(77916),R=r(71230),P=r(15746),A=r(65360),f=r(69518),t=r(62435),n=r(86074),u=function(){var b=(0,p.useParams)(),I=b.id,Z=(0,t.useState)(),L=y()(Z,2),d=L[0],U=L[1];(0,t.useEffect)(function(){B()},[]);var B=function(){(0,O.Ck)(I).then(function(s){U(s.data)})},x={name:"file",action:"".concat(localStorage.getItem("baseURL"),"gallery/upload/").concat(I),headers:{authorization:"Bearer ".concat(localStorage.getItem("def_token"))},onChange:function(s){s.file.status!=="uploading"&&console.log(s.file,s.fileList),s.file.status==="done"?(B(),i.ZP.success("".concat(s.file.name," file uploaded successfully"))):s.file.status==="error"&&i.ZP.error("".concat(s.file.name," file upload failed."))}},G=function(s){(0,O.JJ)(s).then(function(W){if(W.succeeded){var S=d==null?void 0:d.filter(function($){return $.id!==s});U(S),i.ZP.success("succeeded")}else i.ZP.error(W.message)})};return(0,n.jsxs)(E.ZP,{title:"Photo of gallery",extra:(0,n.jsx)(o.Z,{icon:(0,n.jsx)(a.Z,{}),children:"Edit gallery"}),children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(C.Z,{children:(0,n.jsxs)(T.Z,{children:[(0,n.jsx)(h.Z,_()(_()({},x),{},{children:(0,n.jsx)(o.Z,{icon:(0,n.jsx)(l.Z,{}),children:"Upload"})})),"or",(0,n.jsx)(o.Z,{icon:(0,n.jsx)(g.Z,{}),children:"Choose from gallery"})]})})}),(0,n.jsx)(R.Z,{gutter:16,children:d==null?void 0:d.map(function(c){return(0,n.jsx)(P.Z,{span:6,children:(0,n.jsx)(C.Z,{actions:[(0,n.jsx)(A.Z,{title:"Are you sure to delete?",onConfirm:function(){return G(c.id)},okText:"Yes",cancelText:"No",children:(0,n.jsx)(m.Z,{},"delete")}),(0,n.jsx)(a.Z,{},"edit"),(0,n.jsx)(j.Z,{},"ellipsis")],children:(0,n.jsx)(f.Z,{src:c.url,height:150,width:"100%",className:"object-fit-cover"})})},c.id)})})]})};D.default=u},96945:function(K,D,r){r.d(D,{Ck:function(){return i},JJ:function(){return T},Qz:function(){return R},Yp:function(){return A},jF:function(){return g},mW:function(){return j}});var M=r(15009),_=r.n(M),v=r(97857),y=r.n(v),O=r(99289),a=r.n(O),l=r(80854);function g(t){return m.apply(this,arguments)}function m(){return m=a()(_()().mark(function t(n){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/list",{method:"GET",params:y()({},n)}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function j(t){return E.apply(this,arguments)}function E(){return E=a()(_()().mark(function t(n){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/add",{method:"POST",data:n}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function C(t){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function t(n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:n}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function i(t){return o.apply(this,arguments)}function o(){return o=a()(_()().mark(function t(n){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/list-photo/".concat(n)));case 1:case"end":return e.stop()}},t)})),o.apply(this,arguments)}function T(t){return h.apply(this,arguments)}function h(){return h=a()(_()().mark(function t(n){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/delete-photo/".concat(n),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function R(t){return P.apply(this,arguments)}function P(){return P=a()(_()().mark(function t(n){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/delete/".concat(n),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function A(t){return f.apply(this,arguments)}function f(){return f=a()(_()().mark(function t(n){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("gallery/".concat(n)));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}}}]);
