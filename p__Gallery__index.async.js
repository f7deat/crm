"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[953],{90672:function(R,h,r){var O=r(1413),t=r(91),D=r(86074),v=r(62435),M=r(96804),o=["fieldProps","proFieldProps"],a=function(i,p){var P=i.fieldProps,l=i.proFieldProps,d=(0,t.Z)(i,o);return(0,D.jsx)(M.Z,(0,O.Z)({ref:p,valueType:"textarea",fieldProps:P,proFieldProps:l},d))};h.Z=v.forwardRef(a)},5966:function(R,h,r){var O=r(1413),t=r(91),D=r(86074),v=r(96804),M=["fieldProps","proFieldProps"],o=["fieldProps","proFieldProps"],a="text",T=function(l){var d=l.fieldProps,C=l.proFieldProps,u=(0,t.Z)(l,M);return(0,D.jsx)(v.Z,(0,O.Z)({valueType:a,fieldProps:d,filedConfig:{valueType:a},proFieldProps:C},u))},i=function(l){var d=l.fieldProps,C=l.proFieldProps,u=(0,t.Z)(l,o);return(0,D.jsx)(v.Z,(0,O.Z)({valueType:"password",fieldProps:d,proFieldProps:C,filedConfig:{valueType:a}},u))},p=T;p.Password=i,p.displayName="ProFormComponent",h.Z=p},4831:function(R,h,r){r.r(h);var O=r(17061),t=r.n(O),D=r(17156),v=r.n(D),M=r(27424),o=r.n(M),a=r(96945),T=r(86548),i=r(32319),p=r(48689),P=r(24969),l=r(10851),d=r(2516),C=r(36569),u=r(5966),I=r(90672),j=r(81268),W=r(9927),f=r(12461),y=r(71577),U=r(40877),n=r(65360),_=r(94594),c=r(62435),e=r(86074),G=function(){var L=(0,c.useRef)(),S=(0,c.useRef)(),N=(0,c.useState)(!1),x=o()(N,2),z=x[0],A=x[1],Y=(0,c.useState)(!0),Z=o()(Y,2),F=Z[0],H=Z[1],J=function(E){(0,a.Qz)(E).then(function(s){if(s.succeeded){var m;(m=L.current)===null||m===void 0||m.reload(),f.ZP.success("succeeded")}else f.ZP.error(s.message)})},Q=function(E){(0,a.Yp)(E).then(function(s){if(s.succeeded){var m;(m=S.current)===null||m===void 0||m.setFields([{name:"id",value:s.data.id},{name:"name",value:s.data.name},{name:"description",value:s.data.description}]),A(!0)}else f.ZP.warning(s.message)})},V=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Created Date",valueType:"dateTime",hideInSearch:!0},{title:"Task",dataIndex:"option",valueType:"option",render:function(E,s){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.Z,{icon:(0,e.jsx)(T.Z,{}),onClick:function(){return Q(s.id)}}),(0,e.jsx)(U.Z,{type:"vertical"}),(0,e.jsx)(W.Link,{to:"/gallery/center/".concat(s.id),children:(0,e.jsx)(y.Z,{icon:(0,e.jsx)(i.Z,{}),type:"primary"})}),(0,e.jsx)(U.Z,{type:"vertical"}),(0,e.jsx)(n.Z,{title:"Are you sure delete this?",onConfirm:function(){return J(s.id)},children:(0,e.jsx)(y.Z,{icon:(0,e.jsx)(p.Z,{}),danger:!0,type:"primary"})})]})}}],$=function(){var g=v()(t()().mark(function E(s){return t()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:(0,a.mW)(s).then(function(b){if(b.succeeded){var K;(K=L.current)===null||K===void 0||K.reload(),A(!1)}else f.ZP.error(b.message)});case 1:case"end":return B.stop()}},E)}));return function(s){return g.apply(this,arguments)}}(),X=function(E){H(!E)};return(0,e.jsxs)(l.ZP,{extra:(0,e.jsx)(y.Z,{type:"primary",onClick:function(){return A(!0)},icon:(0,e.jsx)(P.Z,{}),children:"Add new"}),children:[(0,e.jsx)(d.Z,{headerTitle:"Lead",actionRef:L,rowKey:"id",search:{layout:"vertical"},request:a.jF,columns:V}),(0,e.jsxs)(C.Y,{visible:z,onVisibleChange:A,onFinish:$,formRef:S,title:"Gallery settings",children:[(0,e.jsx)(u.Z,{name:"id",hidden:!0}),(0,e.jsx)(u.Z,{label:"Name",name:"name",required:!0}),(0,e.jsx)(I.Z,{label:"Description",name:"description"}),(0,e.jsx)(j.Z,{name:"isUsingAPI",valuePropName:"checked",children:(0,e.jsx)(_.Z,{onChange:X,checkedChildren:(0,e.jsx)(e.Fragment,{children:"API"})})}),(0,e.jsx)(u.Z,{label:"Normalized name",name:"normalizedName",hidden:F}),(0,e.jsx)(u.Z,{label:"Thumbnail",name:"thumbnail",hidden:F})]})]})};h.default=G},96945:function(R,h,r){r.d(h,{Ck:function(){return C},JJ:function(){return I},Qz:function(){return W},Yp:function(){return y},jF:function(){return T},mW:function(){return p}});var O=r(17061),t=r.n(O),D=r(42122),v=r.n(D),M=r(17156),o=r.n(M),a=r(9927);function T(n){return i.apply(this,arguments)}function i(){return i=o()(t()().mark(function n(_){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("gallery/list",{method:"GET",params:v()({},_)}));case 1:case"end":return e.stop()}},n)})),i.apply(this,arguments)}function p(n){return P.apply(this,arguments)}function P(){return P=o()(t()().mark(function n(_){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("gallery/add",{method:"POST",data:_}));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function l(n){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function n(_){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:_}));case 1:case"end":return e.stop()}},n)})),d.apply(this,arguments)}function C(n){return u.apply(this,arguments)}function u(){return u=o()(t()().mark(function n(_){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("gallery/list-photo/".concat(_)));case 1:case"end":return e.stop()}},n)})),u.apply(this,arguments)}function I(n){return j.apply(this,arguments)}function j(){return j=o()(t()().mark(function n(_){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("gallery/delete-photo/".concat(_),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),j.apply(this,arguments)}function W(n){return f.apply(this,arguments)}function f(){return f=o()(t()().mark(function n(_){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("gallery/delete/".concat(_),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),f.apply(this,arguments)}function y(n){return U.apply(this,arguments)}function U(){return U=o()(t()().mark(function n(_){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("gallery/".concat(_)));case 1:case"end":return e.stop()}},n)})),U.apply(this,arguments)}}}]);
