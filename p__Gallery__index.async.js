"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[953],{90672:function(I,h,r){var v=r(1413),_=r(91),D=r(86074),f=r(62435),M=r(96804),l=["fieldProps","proFieldProps"],t=function(u,c){var P=u.fieldProps,o=u.proFieldProps,d=(0,_.Z)(u,l);return(0,D.jsx)(M.Z,(0,v.Z)({ref:c,valueType:"textarea",fieldProps:P,proFieldProps:o},d))};h.Z=f.forwardRef(t)},5966:function(I,h,r){var v=r(1413),_=r(91),D=r(86074),f=r(96804),M=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],t="text",y=function(o){var d=o.fieldProps,T=o.proFieldProps,i=(0,_.Z)(o,M);return(0,D.jsx)(f.Z,(0,v.Z)({valueType:t,fieldProps:d,filedConfig:{valueType:t},proFieldProps:T},i))},u=function(o){var d=o.fieldProps,T=o.proFieldProps,i=(0,_.Z)(o,l);return(0,D.jsx)(f.Z,(0,v.Z)({valueType:"password",fieldProps:d,proFieldProps:T,filedConfig:{valueType:t}},i))},c=y;c.Password=u,c.displayName="ProFormComponent",h.Z=c},4831:function(I,h,r){r.r(h);var v=r(15009),_=r.n(v),D=r(99289),f=r.n(D),M=r(5574),l=r.n(M),t=r(96945),y=r(86548),u=r(32319),c=r(48689),P=r(24969),o=r(10851),d=r(2516),T=r(36569),i=r(5966),U=r(90672),A=r(81268),W=r(80854),O=r(12461),j=r(71577),C=r(27049),n=r(65360),a=r(94594),m=r(62435),e=r(86074),S=function(){var b=(0,m.useRef)(),K=(0,m.useRef)(),N=(0,m.useState)(!1),x=l()(N,2),z=x[0],R=x[1],Y=(0,m.useState)(!0),Z=l()(Y,2),F=Z[0],H=Z[1],J=function(E){(0,t.Qz)(E).then(function(s){if(s.succeeded){var p;(p=b.current)===null||p===void 0||p.reload(),O.ZP.success("succeeded")}else O.ZP.error(s.message)})},Q=function(E){(0,t.Yp)(E).then(function(s){if(s.succeeded){var p;(p=K.current)===null||p===void 0||p.setFields([{name:"id",value:s.data.id},{name:"name",value:s.data.name},{name:"description",value:s.data.description}]),R(!0)}else O.ZP.warning(s.message)})},V=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Created Date",valueType:"dateTime",hideInSearch:!0},{title:"Task",dataIndex:"option",valueType:"option",render:function(E,s){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j.Z,{icon:(0,e.jsx)(y.Z,{}),onClick:function(){return Q(s.id)}}),(0,e.jsx)(C.Z,{type:"vertical"}),(0,e.jsx)(W.Link,{to:"/gallery/center/".concat(s.id),children:(0,e.jsx)(j.Z,{icon:(0,e.jsx)(u.Z,{}),type:"primary"})}),(0,e.jsx)(C.Z,{type:"vertical"}),(0,e.jsx)(n.Z,{title:"Are you sure delete this?",onConfirm:function(){return J(s.id)},children:(0,e.jsx)(j.Z,{icon:(0,e.jsx)(c.Z,{}),danger:!0,type:"primary"})})]})}}],$=function(){var g=f()(_()().mark(function E(s){return _()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:(0,t.mW)(s).then(function(G){if(G.succeeded){var B;(B=b.current)===null||B===void 0||B.reload(),R(!1)}else O.ZP.error(G.message)});case 1:case"end":return L.stop()}},E)}));return function(s){return g.apply(this,arguments)}}(),X=function(E){H(!E)};return(0,e.jsxs)(o.ZP,{extra:(0,e.jsx)(j.Z,{type:"primary",onClick:function(){return R(!0)},icon:(0,e.jsx)(P.Z,{}),children:"Add new"}),children:[(0,e.jsx)(d.Z,{headerTitle:"Lead",actionRef:b,rowKey:"id",search:{layout:"vertical"},request:t.jF,columns:V}),(0,e.jsxs)(T.Y,{visible:z,onVisibleChange:R,onFinish:$,formRef:K,title:"Gallery settings",children:[(0,e.jsx)(i.Z,{name:"id",hidden:!0}),(0,e.jsx)(i.Z,{label:"Name",name:"name",required:!0}),(0,e.jsx)(U.Z,{label:"Description",name:"description"}),(0,e.jsx)(A.Z,{name:"isUsingAPI",valuePropName:"checked",children:(0,e.jsx)(a.Z,{onChange:X,checkedChildren:(0,e.jsx)(e.Fragment,{children:"API"})})}),(0,e.jsx)(i.Z,{label:"Normalized name",name:"normalizedName",hidden:F}),(0,e.jsx)(i.Z,{label:"Thumbnail",name:"thumbnail",hidden:F})]})]})};h.default=S},96945:function(I,h,r){r.d(h,{Ck:function(){return T},JJ:function(){return U},Qz:function(){return W},Yp:function(){return j},jF:function(){return y},mW:function(){return c}});var v=r(15009),_=r.n(v),D=r(97857),f=r.n(D),M=r(99289),l=r.n(M),t=r(80854);function y(n){return u.apply(this,arguments)}function u(){return u=l()(_()().mark(function n(a){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.request)("gallery/list",{method:"GET",params:f()({},a)}));case 1:case"end":return e.stop()}},n)})),u.apply(this,arguments)}function c(n){return P.apply(this,arguments)}function P(){return P=l()(_()().mark(function n(a){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.request)("gallery/add",{method:"POST",data:a}));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function o(n){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function n(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("gallery/upload",{method:"POST",data:a}));case 1:case"end":return e.stop()}},n)})),d.apply(this,arguments)}function T(n){return i.apply(this,arguments)}function i(){return i=l()(_()().mark(function n(a){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.request)("gallery/list-photo/".concat(a)));case 1:case"end":return e.stop()}},n)})),i.apply(this,arguments)}function U(n){return A.apply(this,arguments)}function A(){return A=l()(_()().mark(function n(a){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.request)("gallery/delete-photo/".concat(a),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),A.apply(this,arguments)}function W(n){return O.apply(this,arguments)}function O(){return O=l()(_()().mark(function n(a){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.request)("gallery/delete/".concat(a),{method:"POST"}));case 1:case"end":return e.stop()}},n)})),O.apply(this,arguments)}function j(n){return C.apply(this,arguments)}function C(){return C=l()(_()().mark(function n(a){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.request)("gallery/".concat(a)));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}}}]);
