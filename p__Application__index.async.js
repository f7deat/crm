"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[396],{86548:function(K,T,e){e.d(T,{Z:function(){return c}});var y=e(1413),a=e(62435),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},o=C,l=e(84089),f=function(S,Z){return a.createElement(l.Z,(0,y.Z)((0,y.Z)({},S),{},{ref:Z,icon:o}))};f.displayName="EditOutlined";var c=a.forwardRef(f)},27598:function(K,T,e){e.r(T),e.d(T,{default:function(){return w}});var y=e(17061),a=e.n(y),C=e(17156),o=e.n(C),l=e(27424),f=e.n(l),c=e(42126),M=e(42952),S=e(86548),Z=e(89705),A=e(41156),I=e(10851),b=e(33097),L=e(71230),O=e(15746),V=e(59652),P=e(24093),r=e(62435),s=e(82826),i=e(36569),n=e(5966),G=e(90672),v=e(12461),X=e(71577),t=e(86074),H=function(E){var m=(0,r.useRef)(),W=function(){var d,h,j,p,g=(d=m.current)===null||d===void 0?void 0:d.getFieldValue("appId"),x=(h=m.current)===null||h===void 0?void 0:h.getFieldValue("appSecret"),k=(j=m.current)===null||j===void 0?void 0:j.getFieldValue("shortLiveToken");(!g||!x||!((p=m.current)!==null&&p!==void 0&&p.getFieldValue("appSecret"))||!k)&&v.ZP.warning("Please input App Id, App Secret and Short live token!"),(0,c.Ov)(g,x,k).then(function(U){console.log(U)})},$=function(){var D=o()(a()().mark(function d(h){return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:(0,c.Xo)(h).then(function(g){if(!g.succeeded){v.ZP.error(g.message);return}v.ZP.success("Saved!"),E.setVisible(!1)});case 1:case"end":return p.stop()}},d)}));return function(h){return D.apply(this,arguments)}}();return(0,t.jsx)(i.Y,{visible:E.visible,onVisibleChange:E.setVisible,title:"Facebook configruation",formRef:m,onFinish:$,initialValues:E.config,children:(0,t.jsxs)(L.Z,{gutter:32,children:[(0,t.jsxs)(O.Z,{span:16,children:[(0,t.jsx)(n.Z,{name:"appId",label:"App Id",required:!0}),(0,t.jsx)(n.Z,{name:"appSecret",label:"App Secret",required:!0}),(0,t.jsx)(G.Z,{name:"accessToken",label:"Access Token",tooltip:"Input long live token exchanged from right panel"})]}),(0,t.jsxs)(O.Z,{span:8,style:{borderLeft:"1px dashed #d1d1d1"},children:[(0,t.jsx)(G.Z,{label:"Short live token",tooltip:"Got it from: https://graph.facebook.com/",name:"shortLiveToken"}),(0,t.jsx)("div",{className:"mb-3 text-center",children:(0,t.jsx)(X.Z,{icon:(0,t.jsx)(s.Z,{}),onClick:W,children:"Exchange token"})})]})]})})},J=H,Y=e(9927),Q=function(){var E=(0,r.useState)(!1),m=f()(E,2),W=m[0],$=m[1],D=(0,r.useState)(!1),d=f()(D,2),h=d[0],j=d[1],p=(0,r.useState)([{name:"SendGrid"}]),g=f()(p,2),x=g[0],k=g[1],U=(0,r.useState)(),z=f()(U,2),_=z[0],ee=z[1],ne=function(){var R=o()(a()().mark(function N(B){var F;return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,c.qT)(B);case 2:F=u.sent,F.succeeded&&F.data.value&&ee(JSON.parse(F.data.value)),u.t0=B,u.next=u.t0==="Facebook"?7:u.t0==="SendGrid"?9:11;break;case 7:return j(!0),u.abrupt("break",12);case 9:return $(!0),u.abrupt("break",12);case 11:return u.abrupt("break",12);case 12:case"end":return u.stop()}},N)}));return function(B){return R.apply(this,arguments)}}();return(0,t.jsxs)(I.ZP,{title:"Application",children:[(0,t.jsx)(L.Z,{gutter:[16,16],children:x==null?void 0:x.map(function(R){return(0,t.jsx)(O.Z,{span:6,children:(0,t.jsx)(b.Z,{actions:[(0,t.jsx)(Y.Link,{to:"/applications/sendgrid",children:(0,t.jsx)(M.Z,{})},"setting"),(0,t.jsx)(S.Z,{},"edit"),(0,t.jsx)(Z.Z,{},"ellipsis")],children:(0,t.jsx)(V.Z.Meta,{avatar:(0,t.jsx)(P.C,{icon:(0,t.jsx)(A.Z,{})}),title:R.name,description:"Connect to ".concat(R.name)})},R.name)})})}),(0,t.jsx)(J,{visible:h,setVisible:j,config:_})]})},w=Q},42126:function(K,T,e){e.d(T,{MC:function(){return V},Ov:function(){return M},Xo:function(){return Z},qT:function(){return I},tr:function(){return L}});var y=e(17061),a=e.n(y),C=e(17156),o=e.n(C),l=e(9927);function f(){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("appsetting/all"));case 1:case"end":return i.stop()}},r)})),c.apply(this,arguments)}function M(r,s,i){return S.apply(this,arguments)}function S(){return S=o()(a()().mark(function r(s,i,n){return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,l.request)("appsetting/facebook/exchange-token",{method:"POST",data:{appId:s,appSecret:i,shortLiveToken:n}}));case 1:case"end":return v.stop()}},r)})),S.apply(this,arguments)}function Z(r){return A.apply(this,arguments)}function A(){return A=o()(a()().mark(function r(s){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("appsetting/facebook/save",{method:"POST",data:s}));case 1:case"end":return n.stop()}},r)})),A.apply(this,arguments)}function I(r){return b.apply(this,arguments)}function b(){return b=o()(a()().mark(function r(s){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("appsetting/".concat(s)));case 1:case"end":return n.stop()}},r)})),b.apply(this,arguments)}function L(r){return O.apply(this,arguments)}function O(){return O=o()(a()().mark(function r(s){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("appsetting/sendgrid/save",{method:"POST",data:s}));case 1:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function V(r){return P.apply(this,arguments)}function P(){return P=o()(a()().mark(function r(s){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("appsetting/test-send-mail",{method:"POST",data:s}));case 1:case"end":return n.stop()}},r)})),P.apply(this,arguments)}}}]);
